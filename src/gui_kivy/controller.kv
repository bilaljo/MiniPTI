#: import Factory kivy.factory.Factory

<Decimation@Popup>
    id: decimation_popup
    auto_dismiss: False
    title: "Decimation"
    size_hint: {0.6, 0.2}
    GridLayout:
        cols: 4
        Button:
            text: "File Path"
            on_release: Factory.Controller.set_file_path("Decimation")
        Button:
            text: "Calculate"
            on_release: Factory.Controller.calculate_decimation()
        Button:
            text: "Plot"
            on_release: Factory.Controller(1).plot_dc()
        Button:
            text: "Close"
            on_release: root.dismiss()

<Home>:
    GridLayout:
        cols: 1
        rows: 4
        size: root.width, root.height
        GridLayout:
            cols: 5
            rows: 4
            canvas:
                Color:
                    rgb: 0., 0., 0.
                Rectangle:
                    size: self.width / 2, 1
            Label:
                text: "Channel"
            Label:
                text: "Minimum Intensity"
            Label:
                text: "Maximum Intensity"
            Label:
                text: "Output Phase"
            Label:
                text: "Response Phase"
            Label:
                text: "1"
            TextInput:
                hint_text: str(root.min_intensities[0])
            TextInput:
                hint_text: str(root.max_intensities[0])
            TextInput:
                hint_text: str(root.output_phases[0])
            TextInput:
                hint_text: str(root.response_phases[0])
            Label:
                text: "2"
            TextInput:
                hint_text: str(root.min_intensities[1])
            TextInput:
                hint_text: str(root.max_intensities[1])
            TextInput:
                hint_text: str(root.output_phases[1])
            TextInput:
                hint_text: str(root.response_phases[1])
            Label:
                text: "3"
            TextInput:
                hint_text: str(root.min_intensities[2])
            TextInput:
                hint_text: str(root.max_intensities[2])
            TextInput:
                hint_text: str(root.output_phases[2])
            TextInput:
                hint_text: str(root.response_phases[2])
        GridLayout:
            cols: 3
            padding: 50
            spacing: 50
            Button:
                id: dc
                text: "Decimation"
                on_release: Factory.Decimation().open()
            Button:
                text: "Inversion"
            Button:
                text: "Phase Scan"
        GridLayout:
            spacing: 20
            cols: 3
            padding: 50
            spacing: 50
            Button:
                text: "Run"
            Button:
                text: "Destination Folder"
            Button:
                text: "Stop"

<Controller>:
    do_default_tab: False
    tab_width: root.width / 6
    TabbedPanelItem:
        text: "Home"
        Home:
    TabbedPanelItem:
        id: "dc"
        text: "DC Signals"
    TabbedPanelItem:
        text: "Min and Max\nIntensities"
    TabbedPanelItem:
        text: "Output Phases"
    TabbedPanelItem:
        text: "Interferometric\nPhase"
    TabbedPanelItem:
        text: "PTI Signal"
